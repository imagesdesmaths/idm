[(#REM) 

  Parametres supplementaire :
  - defaut : valeur par defaut du parametre
  - class : classe(s) css ajoutes a l'input
  - size : taille du champ
  - maxlength : nombre de caracteres maximum
  - disable : champ insaisissable ? 'oui' (defaut : '')
  - media : pour restreindre la modalboxe à un type de media particulier
  - extension : pour restreindre à un type de fichier
  
  Note : dans les options, il faut définir 'env' à 'oui' pour que le sélecteur puisse récupérer id_article, id_rubrique ou id_breve.
  Note 2 : si on appelle le sélecteur depuis une modalbox, il faut alors lui passer _modalbox_retour qui correspond à l'url de retour
  après sélection du document. L'id du document sera alors passé par URL.
]

<input type="text" name="#ENV{nom}" class="text[ (#ENV{class})]" id="champ_#ENV{nom}"[ value="(#ENV{valeur,#ENV{defaut}})"][ size="(#ENV{size})"][ maxlength="(#ENV{maxlength})"][ disabled="(#ENV{disable})"][ readonly="(#ENV{readonly})"][(#ENV{obligatoire}|et{#HTML5}|oui) required="required"] />

[(#REM) Si la médiathèque est présente ]
[(#PLUGIN{medias}|oui)

[(#SET{mod_fn,#ENV{_modalbox_retour}|?{'2','1'}})]

[(#REM) Parcourir les documents de l'article ]
[(#ENV{id_article}|oui)
<p class='boutons'><input class='submit' type="button" name="parcourir" value="<:saisies:bouton_parcourir_docs_article:>"
	onclick="jQuery.modalboxload(
		'[(#URL_ECRIRE{portfolio,selectfunc=mediaselect#GET{mod_fn}_#ENV{nom}&id_article=#ENV{id_article}[&media=(#ENV{media})][&extension=(#ENV{extension})]})]',
		{autoResize: true}
	);"
/></p>
]

[(#REM) Parcourir les documents de la rubrique ]
[(#ENV{id_rubrique}|oui)
<p class='boutons'><input class='submit' type="button" name="parcourir" value="<:saisies:bouton_parcourir_docs_rubrique:>"
	onclick="jQuery.modalboxload(
		'[(#URL_ECRIRE{portfolio,selectfunc=mediaselect#GET{mod_fn}_#ENV{nom}&id_rubrique=#ENV{id_rubrique}[&media=(#ENV{media})][&extension=(#ENV{extension})]})]',
		{autoResize: true}
	);"
/></p>
]

[(#REM) Parcourir les documents de la brève ]
[(#ENV{id_breve}|oui)
<p class='boutons'><input class='submit' type="button" name="parcourir" value="<:saisies:bouton_parcourir_docs_breve:>"
	onclick="jQuery.modalboxload(
		'[(#URL_ECRIRE{portfolio,selectfunc=mediaselect#GET{mod_fn}_#ENV{nom}&id_breve=#ENV{id_breve}[&media=(#ENV{media})][&extension=(#ENV{extension})]})]',
		{autoResize: true}
	);"
/></p>
]

[(#REM) Parcourir toute la médiathèque ]
<p class='boutons'><input class='submit' type="button" name="parcourir" value="<:saisies:bouton_parcourir_mediatheque:>"
	onclick="jQuery.modalboxload(
		'[(#URL_ECRIRE{portfolio,selectfunc=mediaselect#GET{mod_fn}_#ENV{nom}[&media=(#ENV{media})][&extension=(#ENV{extension})]})]',
		{autoResize: true}
	);"
/></p>

[(#ENV{_modalbox_retour}|non)
<script type="text/javascript">
	function mediaselect1_#ENV{nom}(id){
		jQuery.modalboxclose();
		jQuery("#champ_#ENV{nom}").attr('value',id).focus();
	};
</script>
]

[(#ENV{_modalbox_retour}|oui)
<script type="text/javascript">
	function mediaselect2_#ENV{nom}(id){
		jQuery.modalboxload('#ENV**{_modalbox_retour}&#ENV{nom}='+id);
	};
</script>
]

]